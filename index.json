[{"categories":["VMware"],"content":"Docker swarm Nativo no docker concorrente do kubernetes é dividido em 2 funções: Manager : Gerenciamento do cluster Necessario criar HA do manager sempre impar 51% de recursos minimo pra manter o cluster no ar sao diferenciados pelo token quando e feito o join no cluster Worker : execução do container E possivel colocar em modo manutencao similar esxi Quando o host retorna ao cluster o containers nao sao executados novamente, necessario usar o comando de scale para distribuir a carga novamente Service: modos : replicated ","date":"2020-06-29","objectID":"/swarm-basico/:0:0","tags":["AirWatch","android","device","ios","manager","mdm","mobile","vmware"],"title":"Swarm Basico","uri":"/swarm-basico/"},{"categories":["VMware"],"content":"Criando cluster Swarm docker node update --availability #inicia o cluster docker swarm init #inclui nodes no cluster docker swarm join --token \\ SWMTKN-1-100_SEU_TOKEN SEU_IP_MASTER:2377 # lista os nodes docker node ls # exibe o token docker swarm join-token manager docker swarm join-token worker ","date":"2020-06-29","objectID":"/swarm-basico/:0:1","tags":["AirWatch","android","device","ios","manager","mdm","mobile","vmware"],"title":"Swarm Basico","uri":"/swarm-basico/"},{"categories":["VMware"],"content":"Gerenciando cluster Swarm #info sobre os nodes docker node inspect LINUXtips-02 # promove o node para manager docker node promote LINUXtips-03 # despromove o node docker node demote LINUXtips-03 # remove node do clsuter docker swarm leave # --force docker swarm leave --force # deleta o node do cluster docker node rm LINUXtips-03 ","date":"2020-06-29","objectID":"/swarm-basico/:0:2","tags":["AirWatch","android","device","ios","manager","mdm","mobile","vmware"],"title":"Swarm Basico","uri":"/swarm-basico/"},{"categories":["VMware"],"content":"Criando e Gerenciando service # cria serviço com o nome de webserver com 5 replicas usando a imagem do ngnix docker service create --name webserver --replicas 5 -p 8080:80 nginx # testar se o serviço esta no ar curl QUALQUER_IP_NODES_CLUSTER:8080 # lista o serviço docker service ls # lista info em formato mais amigavel docker service inspect www --pretty # lita aonde os services estão rodando docker service ps webserver # info detalhadas dos service docker service inspect webserver # tail -f nos logs dos containers docker service logs -f webserver # remove o serviço docker service rm webserver #cria service com mount de volume externo docker service create --name webserver --replicas 5 -p 8080:80 --mount type=volume,src=teste,dst=/app nginx docker network create -d overlay giropops docker network ls docker network inspect giropops docker service scale giropops=5 docker network rm giropops docker service create --name webserver --network giropops --replicas 5 -p 8080:80 --mount type=volume,src=teste,dst=/app nginx docker service update \u003cOPCOES\u003e \u003cNome_Service\u003e ","date":"2020-06-29","objectID":"/swarm-basico/:0:3","tags":["AirWatch","android","device","ios","manager","mdm","mobile","vmware"],"title":"Swarm Basico","uri":"/swarm-basico/"},{"categories":["Docker"],"content":"Instalação curl -fsSL https://get.docker.com/ | bash docker version docker container ls ","date":"2020-06-29","objectID":"/linuxtips-docker/:0:1","tags":["Docker"],"title":"Docker Basico","uri":"/linuxtips-docker/"},{"categories":["Docker"],"content":"comandos docker registry e dockerhub Comandos Utilizados: docker image inspect debian docker history linuxtips/apache:1.0 docker login docker login registry.suaempresa.com docker push linuxtips/apache:1.0 docker pull linuxtips/apache:1.0 docker image ls # criando registry local docker container run -d -p 5000:5000 --restart=always --name registry registry:2 # tag na imagem docker tag IMAGEMID localhost:5000/apache ","date":"2020-06-29","objectID":"/linuxtips-docker/:0:2","tags":["Docker"],"title":"Docker Basico","uri":"/linuxtips-docker/"},{"categories":["Docker"],"content":"Gerenciamento de Volumes docker container run -ti --mount type=bind,src=/volume,dst=/volume ubuntu docker container run -ti --mount type=bind,src=/root/primeiro_container,dst=/volume ubuntu docker container run -ti --mount type=bind,src=/root/primeiro_container,dst=/volume,ro ubuntu docker volume create giropops docker volume rm giropops docker volume inspect giropops docker volume prune docker container run -d --mount type=volume,source=giropops,destination=/var/opa nginx docker container create -v /data --name dbdados centos docker run -d -p 5432:5432 --name pgsql1 --volumes-from dbdados -e POSTGRESQL_USER=docker -e POSTGRESQL_PASS=docker -e POSTGRESQL_DB=docker kamui/postgresql docker run -d -p 5433:5432 --name pgsql2 --volumes-from dbdados -e POSTGRESQL_USER=docker -e POSTGRESQL_PASS=docker -e POSTGRESQL_DB=docker kamui/postgresql docker run -ti --volumes-from dbdados -v $(pwd):/backup debian tar -cvf /backup/backup.tar /data ","date":"2020-06-29","objectID":"/linuxtips-docker/:0:3","tags":["Docker"],"title":"Docker Basico","uri":"/linuxtips-docker/"},{"categories":["Docker"],"content":"DockerFile Exemplos FROMdebianRUNapt-getupdate\u0026\u0026apt-getinstall-yapache2\u0026\u0026apt-getcleanENVAPACHE_LOCK_DIR=\"/var/lock\"ENVAPACHE_PID_FILE=\"/var/run/apache2.pid\"ENVAPACHE_RUN_USER=\"www-data\"ENVAPACHE_RUN_GROUP=\"www-data\"ENVAPACHE_LOG_DIR=\"/var/log/apache2\"LABELdescription=\"Webserver\"VOLUME/var/www/html/EXPOSE80 FROMdebianRUNapt-getupdate\u0026\u0026apt-getinstall-yapache2\u0026\u0026apt-getcleanENVAPACHE_LOCK_DIR=\"/var/lock\"ENVAPACHE_PID_FILE=\"/var/run/apache2/apache2.pid\"ENVAPACHE_RUN_USER=\"www-data\"ENVAPACHE_RUN_DIR=\"/var/run/apache2\"ENVAPACHE_RUN_GROUP=\"www-data\"ENVAPACHE_LOG_DIR=\"/var/log/apache2\"LABELdescription=\"Webserver\"VOLUME/var/www/html/EXPOSE80ENTRYPOINT[\"/usr/sbin/apachectl\"]CMD[\"-D\",\"FOREGROUND\"] FROMgolangWORKDIR/appADD./appRUNgobuild-ogoappENTRYPOINT./goapp FROMgolangASbuildandoADD./srcWORKDIR/srcRUNgobuild-ogoappFROMalpine:3.1WORKDIR/appCOPY--from=buildando/src/goapp/appENTRYPOINT./goapp ","date":"2020-06-29","objectID":"/linuxtips-docker/:0:4","tags":["Docker"],"title":"Docker Basico","uri":"/linuxtips-docker/"},{"categories":["Docker"],"content":"Comando usandos no dockerfile ADD =\u003e Copia novos arquivos, diretórios, arquivos TAR ou arquivos remotos e os adicionam ao filesystem do container; CMD =\u003e Executa um comando, diferente do RUN que executa o comando no momento em que está \"buildando\" a imagem, o CMD executa no início da execução do container; LABEL =\u003e Adiciona metadados a imagem como versão, descrição e fabricante; COPY =\u003e Copia novos arquivos e diretórios e os adicionam ao filesystem do container; ENTRYPOINT =\u003e Permite você configurar um container para rodar um executável, e quando esse executável for finalizado, o container também será; ENV =\u003e Informa variáveis de ambiente ao container; EXPOSE =\u003e Informa qual porta o container estará ouvindo; FROM =\u003e Indica qual imagem será utilizada como base, ela precisa ser a primeira linha do Dockerfile; MAINTAINER =\u003e Autor da imagem; RUN =\u003e Executa qualquer comando em uma nova camada no topo da imagem e \"commita\" as alterações. Essas alterações você poderá utilizar nas próximas instruções de seu Dockerfile; USER =\u003e Determina qual o usuário será utilizado na imagem. Por default é o root; VOLUME =\u003e Permite a criação de um ponto de montagem no container; WORKDIR =\u003e Responsável por mudar do diretório / (raiz) para o especificado nele; Docker machine Cria vm com o docker instalado, existem varios drivers para hypervisor e clouds Para fazer a instalação do Docker Machine no Linux, faça: curl -L https://github.com/docker/machine/releases/download/v0.16.1 /docker-machine-`uname -s`-`uname -m` \u003e/tmp/docker-machine chmod +x /tmp/docker-machine sudo cp /tmp/docker-machine /usr/local/bin/docker-machine Para seguir com a instalação no macOS: curl -L https://github.com/docker/machine/releases/download/v0.16.1 /docker-machine-`uname -s`-`uname -m` \u003e/usr/local/bin/docker-machine chmod +x /usr/local/bin/docker-machine #Para seguir com a instalação no Windows caso esteja usando o Git bash: if [[ ! -d \"$HOME/bin\" ]]; then mkdir -p \"$HOME/bin\"; fi curl -L https://github.com/docker/machine/releases/download/v0.16.1 /docker-machine-Windows-x86_64.exe \u003e \"$HOME/bin/docker-machine.exe\" chmod +x \"$HOME/bin/docker-machine.exe\" #Para verificar se ele foi instalado e qual a sua versão, faça: docker-machine version docker-machine create --driver virtualbox linuxtips docker-machine ls docker-machine env linuxtips eval \"$(docker-machine env linuxtips)\" docker container ls docker container run busybox echo \"LINUXTIPS, VAIIII\" docker-machine ip linuxtips docker-machine ssh linuxtips docker-machine inspect linuxtips docker-machine stop linuxtips docker-machine ls docker-machine start linuxtips docker-machine rm linuxtips eval $(docker-machine env -u) Secrets Usado para armazenar informações senssiveis como senhas e usuarios para serem manipulados no container # criando arquivo de senha echo 'minha secret' | docker secret create docker secret create minha_secret minha_secret.txt docker secret inspect minha_secret docker secret ls docker secret rm minha_secret #criando serviço e consumindo secret docker service create --name app --detach=false --secret db_pass minha_app:1.0 docker service create --detach=false --name app --secret source=db_pass,target=password,uid=2000,gid=3000,mode=0400 minha_app:1.0 ls -lhart /run/secrets/ docker service update --secret-rm db_pass --detach=false --secret-add source=db_pass_1,target=password app ","date":"2020-06-29","objectID":"/linuxtips-docker/:0:5","tags":["Docker"],"title":"Docker Basico","uri":"/linuxtips-docker/"},{"categories":[],"content":"Instalação curl -fsSL https://get.docker.com/ | bash docker version docker container ls ###comandos docker registry e dockerhub Comandos Utilizados: docker image inspect debian docker history linuxtips/apache:1.0 docker login docker login registry.suaempresa.com docker push linuxtips/apache:1.0 docker pull linuxtips/apache:1.0 docker image ls # criando registry local docker container run -d -p 5000:5000 --restart=always --name registry registry:2 # tag na imagem docker tag IMAGEMID localhost:5000/apache Gerenciamento de Volumes docker container run -ti --mount type=bind,src=/volume,dst=/volume ubuntu docker container run -ti --mount type=bind,src=/root/primeiro_container,dst=/volume ubuntu docker container run -ti --mount type=bind,src=/root/primeiro_container,dst=/volume,ro ubuntu docker volume create giropops docker volume rm giropops docker volume inspect giropops docker volume prune docker container run -d --mount type=volume,source=giropops,destination=/var/opa nginx docker container create -v /data --name dbdados centos docker run -d -p 5432:5432 --name pgsql1 --volumes-from dbdados -e POSTGRESQL_USER=docker -e POSTGRESQL_PASS=docker -e POSTGRESQL_DB=docker kamui/postgresql docker run -d -p 5433:5432 --name pgsql2 --volumes-from dbdados -e POSTGRESQL_USER=docker -e POSTGRESQL_PASS=docker -e POSTGRESQL_DB=docker kamui/postgresql docker run -ti --volumes-from dbdados -v $(pwd):/backup debian tar -cvf /backup/backup.tar /data DockerFile Exemplos FROMdebianRUNapt-getupdate\u0026\u0026apt-getinstall-yapache2\u0026\u0026apt-getcleanENVAPACHE_LOCK_DIR=\"/var/lock\"ENVAPACHE_PID_FILE=\"/var/run/apache2.pid\"ENVAPACHE_RUN_USER=\"www-data\"ENVAPACHE_RUN_GROUP=\"www-data\"ENVAPACHE_LOG_DIR=\"/var/log/apache2\"LABELdescription=\"Webserver\"VOLUME/var/www/html/EXPOSE80 FROMdebianRUNapt-getupdate\u0026\u0026apt-getinstall-yapache2\u0026\u0026apt-getcleanENVAPACHE_LOCK_DIR=\"/var/lock\"ENVAPACHE_PID_FILE=\"/var/run/apache2/apache2.pid\"ENVAPACHE_RUN_USER=\"www-data\"ENVAPACHE_RUN_DIR=\"/var/run/apache2\"ENVAPACHE_RUN_GROUP=\"www-data\"ENVAPACHE_LOG_DIR=\"/var/log/apache2\"LABELdescription=\"Webserver\"VOLUME/var/www/html/EXPOSE80ENTRYPOINT[\"/usr/sbin/apachectl\"]CMD[\"-D\",\"FOREGROUND\"] FROMgolangWORKDIR/appADD./appRUNgobuild-ogoappENTRYPOINT./goapp FROMgolangASbuildandoADD./srcWORKDIR/srcRUNgobuild-ogoappFROMalpine:3.1WORKDIR/appCOPY--from=buildando/src/goapp/appENTRYPOINT./goapp Comando usandos no dockerfile ADD =\u003e Copia novos arquivos, diretórios, arquivos TAR ou arquivos remotos e os adicionam ao filesystem do container; CMD =\u003e Executa um comando, diferente do RUN que executa o comando no momento em que está \"buildando\" a imagem, o CMD executa no início da execução do container; LABEL =\u003e Adiciona metadados a imagem como versão, descrição e fabricante; COPY =\u003e Copia novos arquivos e diretórios e os adicionam ao filesystem do container; ENTRYPOINT =\u003e Permite você configurar um container para rodar um executável, e quando esse executável for finalizado, o container também será; ENV =\u003e Informa variáveis de ambiente ao container; EXPOSE =\u003e Informa qual porta o container estará ouvindo; FROM =\u003e Indica qual imagem será utilizada como base, ela precisa ser a primeira linha do Dockerfile; MAINTAINER =\u003e Autor da imagem; RUN =\u003e Executa qualquer comando em uma nova camada no topo da imagem e \"commita\" as alterações. Essas alterações você poderá utilizar nas próximas instruções de seu Dockerfile; USER =\u003e Determina qual o usuário será utilizado na imagem. Por default é o root; VOLUME =\u003e Permite a criação de um ponto de montagem no container; WORKDIR =\u003e Responsável por mudar do diretório / (raiz) para o especificado nele; Docker machine Cria vm com o docker instalado, existem varios drivers para hypervisor e clouds Para fazer a instalação do Docker Machine no Linux, faça: curl -L https://github.com/docker/machine/releases/download/v0.16.1 /docker-machine-`uname -s`-`uname -m` \u003e/tmp/docker-machine chmod +x /tmp/docker-machine sudo cp /tmp/docker-machine /usr/local/bin/docker-machine Para seguir com a instalação no ","date":"2020-03-04","objectID":"/post1/:0:0","tags":[],"title":"My First Post","uri":"/post1/"},{"categories":null,"content":"  LoveIt is a clean, elegant but advanced blog theme for Hugo developed by Dillon. It is based on the original LeaveIt Theme and KeepIt Theme. Hugo Theme LoveItHugo Theme LoveIt \" Hugo Theme LoveIt ","date":"2019-08-02","objectID":"/about/:0:0","tags":null,"title":"About LoveIt","uri":"/about/"},{"categories":null,"content":"Features Performance and SEO  Optimized for performance: 99/100 on mobile and 100/100 on desktop in Google PageSpeed Insights  Optimized SEO performance with a correct SEO SCHEMA based on JSON-LD  Google Analytics supported  Fathom Analytics supported  Search engine verification supported (Google, Bind, Yandex and Baidu)  CDN for third-party libraries supported  Automatically converted images with Lazy Load by lazysizes Appearance and Layout / Responsive layout / Light/Dark mode  Globally consistent design language  Pagination supported  Easy-to-use and self-expanding table of contents  Multilanguage supported and i18n ready  Beautiful CSS animation Social and Comment Systems  Gravatar supported by Gravatar  Local Avatar supported  Up to 64 social links supported  Up to 28 share sites supported  Disqus comment system supported by Disqus  Gitalk comment system supported by Gitalk  Valine comment system supported by Valine  Facebook comments system supported by Facebook  Telegram comments system supported by Comments  Commento comment system supported by Commento  Utterances comment system supported by Utterances Extended Features  Search supported by Lunr.js or algolia  Twemoji supported  Automatically highlighting code  Copy code to clipboard with one click  Images gallery supported by lightgallery.js  Extended Markdown syntax for Font Awesome icons  Extended Markdown syntax for ruby annotation  Extended Markdown syntax for fraction  Mathematical formula supported by $ \\KaTeX $  Diagrams shortcode supported by mermaid  Interactive data visualization shortcode supported by ECharts  Mapbox shortcode supported by Mapbox GL JS  Music player shortcode supported by APlayer and MetingJS  Bilibili player shortcode  Kinds of admonitions shortcode  Custom style shortcode  Custom script shortcode  Animated typing supported by TypeIt  Dynamic scroll supported by Smooth Scroll  Cookie consent banner supported by cookieconsent … ","date":"2019-08-02","objectID":"/about/:0:1","tags":null,"title":"About LoveIt","uri":"/about/"},{"categories":null,"content":"License LoveIt is licensed under the MIT license. Check the LICENSE file for details. Thanks to the authors of following resources included in the theme: normalize.css Font Awesome Simple Icons Animate.css Smooth Scroll autocomplete.js Lunr.js algoliasearch lazysizes object-fit-images Twemoji lightgallery.js clipboard.js Sharer.js TypeIt $ \\KaTeX $ mermaid ECharts Mapbox GL JS APlayer MetingJS Gitalk Valine cookieconsent ","date":"2019-08-02","objectID":"/about/:0:2","tags":null,"title":"About LoveIt","uri":"/about/"},{"categories":null,"content":"  LoveIt is a clean, elegant but advanced blog theme for Hugo developed by Dillon. It is based on the original LeaveIt Theme and KeepIt Theme. Hugo Theme LoveItHugo Theme LoveIt \" Hugo Theme LoveIt ","date":"2019-08-02","objectID":"/index.en/:0:0","tags":null,"title":"About LoveIt","uri":"/index.en/"},{"categories":null,"content":"Features Performance and SEO  Optimized for performance: 99/100 on mobile and 100/100 on desktop in Google PageSpeed Insights  Optimized SEO performance with a correct SEO SCHEMA based on JSON-LD  Google Analytics supported  Fathom Analytics supported  Search engine verification supported (Google, Bind, Yandex and Baidu)  CDN for third-party libraries supported  Automatically converted images with Lazy Load by lazysizes Appearance and Layout / Responsive layout / Light/Dark mode  Globally consistent design language  Pagination supported  Easy-to-use and self-expanding table of contents  Multilanguage supported and i18n ready  Beautiful CSS animation Social and Comment Systems  Gravatar supported by Gravatar  Local Avatar supported  Up to 64 social links supported  Up to 28 share sites supported  Disqus comment system supported by Disqus  Gitalk comment system supported by Gitalk  Valine comment system supported by Valine  Facebook comments system supported by Facebook  Telegram comments system supported by Comments  Commento comment system supported by Commento  Utterances comment system supported by Utterances Extended Features  Search supported by Lunr.js or algolia  Twemoji supported  Automatically highlighting code  Copy code to clipboard with one click  Images gallery supported by lightgallery.js  Extended Markdown syntax for Font Awesome icons  Extended Markdown syntax for ruby annotation  Extended Markdown syntax for fraction  Mathematical formula supported by $ \\KaTeX $  Diagrams shortcode supported by mermaid  Interactive data visualization shortcode supported by ECharts  Mapbox shortcode supported by Mapbox GL JS  Music player shortcode supported by APlayer and MetingJS  Bilibili player shortcode  Kinds of admonitions shortcode  Custom style shortcode  Custom script shortcode  Animated typing supported by TypeIt  Dynamic scroll supported by Smooth Scroll  Cookie consent banner supported by cookieconsent … ","date":"2019-08-02","objectID":"/index.en/:0:1","tags":null,"title":"About LoveIt","uri":"/index.en/"},{"categories":null,"content":"License LoveIt is licensed under the MIT license. Check the LICENSE file for details. Thanks to the authors of following resources included in the theme: normalize.css Font Awesome Simple Icons Animate.css Smooth Scroll autocomplete.js Lunr.js algoliasearch lazysizes object-fit-images Twemoji lightgallery.js clipboard.js Sharer.js TypeIt $ \\KaTeX $ mermaid ECharts Mapbox GL JS APlayer MetingJS Gitalk Valine cookieconsent ","date":"2019-08-02","objectID":"/index.en/:0:2","tags":null,"title":"About LoveIt","uri":"/index.en/"},{"categories":["ansible"],"content":" NOTAS: sobre ansible ","date":"2017-01-24","objectID":"/ansible/:0:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Arquivo de configuraçao /etc/ansible/ansible.cfg\rvai usar o arquivo caso existe no diretorio padrão\rou no diretorio home ","date":"2017-01-24","objectID":"/ansible/:1:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"lab access Login is ssh student1@3.127.116.127 Password is RUZszeRcMvYcVS ","date":"2017-01-24","objectID":"/ansible/:2:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Facts: coleta informações sobre o host alvo, sempre é executado antes de qualquer\routro modulo ou comando\rpara desativar add no playbook\rgather_facts: false\r $ ansible localhost -m setup localhost | success \u003e\u003e { \"ansible_facts\": { \"ansible_default_ipv4\": { \"address\": \"192.168.1.37\", \"alias\": \"wlan0\", \"gateway\": \"192.168.1.1\", \"interface\": \"wlan0\", \"macaddress\": \"c4:85:08:3b:a9:16\", \"mtu\": 1500, \"netmask\": \"255.255.255.0\", \"network\": \"192.168.1.0\", \"type\": \"ether\" }, ","date":"2017-01-24","objectID":"/ansible/:3:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Plays: conjunto de tarefas que são excutadas e hosts remotos ","date":"2017-01-24","objectID":"/ansible/:4:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Playbooks: Arquivo que contem uma ou mais tasks\r ","date":"2017-01-24","objectID":"/ansible/:5:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Comandos $ ansible --version $ ansible all --list-hosts #checkar sintaxe do yml file $ ansible-playbook --syntax-check install_apache.yml #rodando playbook $ ansible-playbook install_apache.yml # check all my inventory hosts are ready to be # managed by Ansible $ ansible all -m ping # The ping module differs from a traditional networking ping and #tests whether Ansible can make an ssh connection to the target #hosts. It is common to use this to test connectivity and as an #early step in debugging connection issues. # collect and display the discovered facts # for the localhost $ ansible localhost -m setup # run the uptime command on all hosts in the # web group $ ansible web -m command -a \"uptime\" -o # a opção -o retorna o comando em uma unica linha por host $ ansible web -m service -a \"name=httpd state=stopped\" -b $ ansible all -m command -a \"cat /etc/os-release\" ","date":"2017-01-24","objectID":"/ansible/:6:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Variaveis: Usada em playbooks para mapear valores para serem usados mais de uma vez dentro do codigo ---- name:InstallApacheplaybookhosts:webbecome:yesgather_facts:falsevars:#variavel 1 com uma lista e 2 valores httpd e mod_wsgihttpd_packages:- httpd- mod_wsgi#variavel 2 com a msg \"This is a test message\"apache_test_message:Thisisatestmessagetasks:- name:installhttpdpackagesyum:# pegando a variavel httpd_packages e passando no #loop dentro de item name:\"{{ item }}\"state:presentloop:\"{{ httpd_packages }}\"notify:restartapacheservice ","date":"2017-01-24","objectID":"/ansible/:7:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Templates: Ansible tem a feature de JINJA2 template que permite dinamicamente:\r- setar ou modificar play vars\r- aplicar logica condicional\r- gerar arquivos de configuração baseados em vars\r ","date":"2017-01-24","objectID":"/ansible/:8:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Roles: permite manter e compartilhar de forma mais facil os playbooks\rorganizando eles em diretorios\r Exemplo de roles: site.yml roles/ common/ files/ templates/ tasks/ handlers/ vars/ defaults/ meta/ apache/ files/ templates/ tasks/ handlers/ vars/ defaults/ ","date":"2017-01-24","objectID":"/ansible/:9:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Ansible galaxy site de compartilhamento de ansible roles ","date":"2017-01-24","objectID":"/ansible/:10:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["ansible"],"content":"Exemplo de playbook --- - name: install and start apache hosts: web become: yes vars: webserver: httpd tasks: - name: \"{{ webserver }} package is present\" yum: name: \"{{ webserver }}\" state: latest notify: restart webserver - name: latest index.html file is present copy: src: files/index.html dest: /var/www/html/ handlers: - name: restart webserver service: name: \"{{ webserver}}\" state: restarted ","date":"2017-01-24","objectID":"/ansible/:11:0","tags":["ansible","automação","devops"],"title":"Basico sobre Ansible","uri":"/ansible/"},{"categories":["VCenter"],"content":"Com o uso do VCSA (Vcenter Server Appliance), algumas ferramentas Linux podem ser uteis em um troubleshooting, como por exemplo o htop que é uma ferramenta muito útil para análise de performance em servidores Linux, para podermos instalar no Vcenter precisamos adicionar os repositórios do SUSE Linux nele, vamos lá: Vamos adicionar o repositório com o comando abaixo: **# sudo zypper --gpg-auto-import-keys ar http://download.opensuse.org/distribution/11.1/repo/oss/ 11.1 ** _Adding repository '11.1' [done] _ _Repository '11.1' successfully added _ _Enabled: Yes _ _Autorefresh: No _ _GPG check: Yes _ _URI: [http://download.opensuse.org/distribution/11.1/repo/oss/](http://download.opensuse.org/distribution/11.1/repo/oss/) _ **#sudo zypper --gpg-auto-import-keys ar http://download.opensuse.org/update/11.1/ Update-11**.1 _Adding repository 'Update-11.1' [done] _ _Repository 'Update-11.1' successfully added _ _Enabled: Yes _ _Autorefresh: No _ _GPG check: Yes _ _URI: [http://download.opensuse.org/update/11.1/](http://download.opensuse.org/update/11.1/) _ Validando se os repositórios foram adicionados: **#zypper lr ** _# | Alias | Name | Enabled | Refresh _ _--+-------------+-------------+---------+-------- _ _1 | 11.1 | 11.1 | Yes | No _ _2 | Update-11.1 | Update-11.1 | Yes | No _ _Após adicionarmos os repositórios precisamos dar um refresh para que a lista de pacotes disponíveis possam ser atualizadas: _ **#sudo zypper refresh ** _Retrieving repository '11.1' metadata [-] _ _New repository or package signing key received: _ _Key ID: B88B2FD43DBDC284 _ _Key Name: openSUSE Project Signing Key \u003copensuse@opensuse.org\u003e _ _Key Fingerprint: 22C07BA534178CD02EFE22AAB88B2FD43DBDC284 _ _Key Created: Fri Nov 7 14:10:07 2008 _ _Key Expires: Sun Nov 7 14:10:07 2010 (EXPIRED) _ _Repository: 11.1 _ _Do you want to reject the key, trust temporarily, or trust always? [r/t/a/?] (r): a _ _Retrieving repo Retrieving repository '11.1' metadata [done] _ _Building repository '11.1' cache [done] _ _Retrieving repo sitory 'Update- Retrieving repository 'Update-11.1' metadata [done] _ _Building repository 'Update-11.1' cache [done] _ _All repositories have been refreshed. _ _Instalando o Htop: _ **sudo zypper install htop ** _Loading repository data... _ _Warning: Repository 'Update-11.1' appears to outdated. Consider using a different mirror or server. _ _Reading installed packages... _ _Resolving package dependencies... _ _The following NEW package is going to be installed: _ _ htop _ _1 new package to install. _ _Overall download size: 56.0 KiB. After the operation, additional 123.0 KiB will be used. _ _Continue? [y/n/?] (y): y _ _Retrieving package htop-0.8.1-2.5.x86_64 (1/1), 56.0 KiB (123.0 KiB unpacked) _ _Retrieving: htop-0.8.1-2.5.x86_64.rpm [done (10.6 KiB/s)] _ _Installing: htop-0.8.1-2.5 [done] _ _ _ ","date":"2015-02-22","objectID":"/2015/02/22/adicionando-repositorios-do-suse-linux-no-vcenter-server-appliance/:0:0","tags":["vapp","vcenter","vcsa","virtual appliance","vsphere"],"title":"Adicionando repositórios do SUSE Linux no Vcenter Server Appliance","uri":"/2015/02/22/adicionando-repositorios-do-suse-linux-no-vcenter-server-appliance/"},{"categories":["VMware"],"content":"Suporte a volumes de 2TB para cada VMFS, isso aumenta a flexibilidade para seu adm de storage, quando cria ou usa a LUN, você pode usar 64 TB de volumes estendidos. Padrão 1MB file system block size com suporte de 2TB virtual disks. Em versões anteriores um block size de tamanho maior era requerido, e o adm tinha que decidir se queria uma maior capacidade ou uma performance melhor. Clustered file system - cluster file system permite acesso ao discos por varios hosts Encapsulation - VMS que residem no VMFS tem seus dados organizados e encapsulados em diretorios Dynamic growth - VMFS podem ser expandidos e extendidos permitindo flexibilidade e escalabilidade, esse processo pode acontecer com a vm em execução no datastore, VMDK podemo ser expandidos sobre VMFS volumes, em tempo de execução da vm Backup e recoverability - VMFS permite o uso de proxys para realizar bkp, enquanto a vm esta em uso. Large single extend volumes - storage device maiores que 2TB agora são suportados para uso como VMFS datasore, o limite novo VMFS-5 é 64TB.. Large Physical RDMs- RDM em physical compatibility mode agora tem o tamanho maximo de 64TB Smaller sub-blocks - sub-blocos com o tamanho de 8KB os principais arquivos tem tamanho entre 1kb e 8kb vai consumir somente 8kb Smaller file support - usado para arquivos menores ou igual a 1kb , para esses arquivos a localização da descrição do arquivo sera armazenada no metadado do VMFS se esses aquivos ficarem maiores que 1kb então esse arquivo vai iniciar usando 8kb de blocos em disco, a ideia com pequenos sub-blocos e suporte a arquivos pequenos é diminuir a quantidade de espaço em disco que é consumido por um VMFS datastore. Large file number - aproximadamente 130 mil arquivos por datastore ATS anhancement - hardware assited locking- tambem conhecido como Atomic test e set (ATS) agora é usado para file locking em storage devices que suportam hardware accelaration. Suporte a 2TB disk size para RDMs em physical compatibility Mode. Você pode usar a physical compatibility RDMs para até 64TB Capaciadade de Online, in-place upgrade. Voce pode fazer upgrade do VMFS-3 datastores para VMFS-5 sem parada. ","date":"2014-10-10","objectID":"/2014/10/10/vmfs-5-principais-caracteristicas/:0:0","tags":null,"title":"VMFS 5 – Principais Características","uri":"/2014/10/10/vmfs-5-principais-caracteristicas/"},{"categories":["VMware"],"content":"Com o Vsphere 5 a Vmware disponibilizou a nova versão de seu hardware Virtual, na versão 8 foram implementadas as seguintes melhorias:   32 vCpus Virtual NUMA (vNUMA) suporte 1TB de memória Suporte a dispositivos USB 3.0 UEFI Virtual BIOS Client-Connected a dispositivos USB Leitura de smart cards Non-hardware-accelerated 3D graphics for windows Aero Support - ESXi suporta graficos 3D para executar Windows com Aero e aplicações basicas em 3D. Vsphere 5 - suporta VMs que executam versões anteriores do vmware tools e do hardware com versão 4.x, versões antigas do vmware tools são completamente suportadas no vshpere 5 Versão vSphere 4.x vSphere 5 VMware Tools 4.x Yes Yes VMware Tools 5 Yes Yes Virtual hardware 3, 4, 7 4, 7, 8 Vsphere 5 Suporta OS X Server 10.6 (Snow Leopard) como guest SO quando Esxi é instalado sob o Apple Xservers. Para que o vMotion funcione com as Vms Mac OSx, é requerido que ambos os hosts estejam instados em Apple Xserver Físico. Mac Os x 10.6 sendo executado como VM requer a versão 8 do hardware virtual que não esta disponível no Vsphere 4. É importante lembrar que VMs rodando MAC OSx não suportam a feature de Fault Tolerance (FT). 125 Views 0 Comments ","date":"2014-10-06","objectID":"/2014/10/06/melhorias-no-hardware-virtual/:0:0","tags":null,"title":"Melhorias no Hardware Virtual","uri":"/2014/10/06/melhorias-no-hardware-virtual/"},{"categories":["VMware"],"content":"Faça o Download da Versão do Grab que sera usado no site da EMC: No Esxi o processo de coleta do GRAB é Feito remotamente conforme demonstrado abaixo: *EMC-ESXi-GRAB-1.2.1* Execute o emcgrab.exe com os seguintes parâmetros emcgrab.exe -host -user  -password Na pasta output serão gerados os arquivos com as informações necessárias para o Time de Storage","date":"2014-10-02","objectID":"/2014/10/02/coletando-grab-no-esxi5/:0:0","tags":["esxi","vmware"],"title":"Coletando Grab no Esxi5","uri":"/2014/10/02/coletando-grab-no-esxi5/"},{"categories":["ESX / ESXi"],"content":"****Esxi ****– É o core do Vsphere suíte, ele é responsável pela camada de virtualização dos servidores é parte fundamental para os demais produtos da suíte. Existe uma diferença entre a versão anterior da suíte, onde o Hypervisor estava disponível em duas diferentes versões ESX e ESXi. Ambos produtos compartilham a mesma engine, suportam as mesmas features e usam o mesmo modelo de licenciamento, e ambos são considerados bare-metal installation. No ESX a vmware usava uma derivação do Linux como service console, no caso o Redhat. A service console provia uma interface de gerenciamento para os hosts, que permitia a interação direta com o Host. A service console também incluía serviços tradicionais como firewall, agentes de simple network management protocol (SNMP) além de web server. Tipos de Hypersivor: Geralmente os hypervisor são agrupados em duas classes, Hypervisors do tipo 1 e do tipo 2. Tipo 1 – o Hypervisor é executado diretamente no hardware físico e muitas vezes é referido como bare-metal hypervisor. Ex. Esxi e Xenserver. Tipo 2 - O hypervisor requer um sistema operacional host para prover suporte a I/O e gerenciamento de memória. Ex. Vmware Workstation e VirtualBox ","date":"2014-10-02","objectID":"/2014/10/02/entendendo-os-tipos-de-hypervisors/:0:0","tags":["esxi","vmware","vsphere"],"title":"Entendendo os tipos de Hypervisors","uri":"/2014/10/02/entendendo-os-tipos-de-hypervisors/"},{"categories":["VCenter"],"content":"Antes de pensarmos em implementar uma infraestrutura baseada em virtualização, é importante conhecermos bem as ferramentas que vamos utilizar. Um dos componentes mais importante dentro da suite do Vsphere é o vCenter, esse componente é responsavél por todo o gerenciamento da sua infra virtual, no Vsphere 5 existem 3 versões do vCenter são elas: **- vCenter Server for Essentials ** **- vCenter Server for Foundation ** - vCenter Server for Standard O Vmware vCenter Server for Essentials é integrado com dois dos kits disponiveis de Vsphere Essentials, ambos os kits são all-in-one e são destinados a Small-to-medium Business (SMBs). O que diferencia ele do Essentials é que ele é totalmente auto suficiente e não pode ser integrado a outras versões, esses kits são limitados em três com 2 cpus cada e com o maximo de 192GB de vRam. As duas versões dos kits do Vsphere Essentials, ambos vem com o vCenter Server for Essentials. O kit com o Essential Plus adiciona as funcionalidades de vMotion, High Avalibity HA e VDR Vmware Data Recovery. O vCenter Foundation é usado para centralizar o gerenciamento de mais que 3 Hosts ESXi. Essa versão não é comercializado como parte de um Kit, mais permite a compra individual desse componente. O vCenter Standard é usado em todos os outros kits, incluindo o Standard, Enterprise e Enterprise Plus.Não existem limitações quanto ao gerenciamento de Hosts exeto pelo limite de 1000 hosts que o vCenter 5 pode gerenciar. O vCenter standard inclui tambem o vCenter Orchestrator e o vCenter Server Linked Mode como funcionalidades adicionais. ","date":"2014-10-02","objectID":"/2014/10/02/versoes-do-vcenter-disponiveis-no-vsphere-5/:0:0","tags":["vcenter","vmware","vsphere"],"title":"Versões do vCenter disponíveis no Vsphere 5","uri":"/2014/10/02/versoes-do-vcenter-disponiveis-no-vsphere-5/"}]